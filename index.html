<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>  
    <div>   
        <p>
            <select id="figura">
                <option value="seleccionar">Seleccionar</option>
                <option value="Cuadrado">Cuadrado</option>
                <option value="Circulo">Circulo</option>
                <option value="Triangulo">Triangulo</option>
                <option value="Rectangulo">Rectangulo</option>
            </select>
        </p>
    </div>

<br>
<div class="parametro" id="dvAltura" >
    <label>Altura:</label>
    <input type="text" id="pAltura"> </input>
</div>
<br>

<div class="parametro"  id="dvBase" >
    <label>Base:</label>
    <input type="text" id="pBase"> </input>
</div>
<br>

<div class="parametro"  id="dvRadio">
    <label>Radio:</label>
    <input type="text" id="pRadio"> </input>
</div>
<br>

<div class="parametro"  id="dvAncho">
    <label>Ancho:</label>
    <input type="text" id="pAncho"> </input>
</div>
<br>

<div class="parametro" id="dvLargo">
    <label>Largo:</label>
    <input type="text" id="pLargo"> </input>
</div>
<br>


<button name="button" id="btnCalcular" class ="btn" >Calcular</button>

<br>
<br>

<label>Area:</label>
<label id="resArea"></label>
<br>

<label>Perimetro:</label>
<label id="resPerimetro"></label>

<br>

<canvas width="10000" height="10000" id="mipanel"></canvas>

</body>
<script>    
    document.querySelector('#figura').addEventListener('change', function(e) {

        e.preventDefault();
        var els = document.getElementsByClassName("parametro");

            Array.prototype.forEach.call(els, function(el) {
                // Do stuff here
                debugger;
                el.style.display ='none';
            });

        const dvAltura = document.getElementById("dvAltura"); 
        const dvBase = document.getElementById("dvBase");
        const dvRadio = document.getElementById("dvRadio");
        const dvAncho = document.getElementById("dvAncho");
        const dvLargo = document.getElementById("dvLargo");

        const x =  e.srcElement.value;
        
        switch (x) {
            case 'Cuadrado':            
                dvAltura.style.display = 'block';
                break;        
            case 'Circulo':            
                dvRadio.style.display = 'block';
                break;  
            case 'Triangulo':            
                dvAltura.style.display = 'block';
                dvBase.style.display = 'block';
                break;
            case 'Rectangulo':            
                dvAltura.style.display = 'block';
                dvBase.style.display = 'block';
                break;    
            default:
                break;
        }  

    });


    document.querySelector('#btnCalcular').addEventListener('click', function(e) {
   
    debugger



    const Altura = document.getElementById("pAltura").value; 
    const Base = document.getElementById("pBase").value;
    const Radio = document.getElementById("pRadio").value;
    const Ancho = document.getElementById("pAncho").value;
    const Largo = document.getElementById("pLargo").value;
    const ResultadoArea = document.getElementById("resArea");
    const ResultadoPerimetro = document.getElementById("resPerimetro");

    let miLienzo = document.getElementById("mipanel");
    let lapiz = miLienzo.getContext("2d");

    debugger
    e.preventDefault();
    const x = document.getElementById("figura").value;

    lapiz.clearRect(0, 0, miLienzo.width, miLienzo.height);

        switch (x) {
            case 'Cuadrado':            
                ResultadoArea.innerHTML = Altura * Altura;
                ResultadoPerimetro.innerHTML  =  (Altura * 4);                     
                lapiz.beginPath();	 
                lapiz.rect(30,5,Altura,Altura);
                lapiz.stroke();
                break;        
            case 'Circulo':            
                ResultadoArea.innerHTML = (Math.PI * Math.pow(Radio, 2));
                ResultadoPerimetro.innerHTML  =  Math.PI * (2 * Radio);               
                lapiz.beginPath();	  
                lapiz.arc(300,150,Radio, 0, 2*Math.PI);
                lapiz.lineWidth = 5;
                lapiz.stroke();
                break;  
            case 'Triangulo':            
                ResultadoArea.innerHTML = Math.sqrt(Math.pow(Altura, 2) + Math.pow(Base, 2)) + (Altura + Base);
                ResultadoPerimetro.innerHTML  =  (Altura * 4);
                // Stroked triangle
                let height = 200 * Math.cos(Math.PI / 3);
                lapiz.beginPath();
                lapiz.moveTo(100, 300);
                lapiz.lineTo(300, 300);
                lapiz.lineTo(200, 300 - height);
                lapiz.closePath();
                lapiz.stroke();    
                break;
            case 'Rectangulo':            
                ResultadoArea.innerHTML = (Altura * Base) ;
                ResultadoPerimetro.innerHTML  =  ((Altura * 2) + (Base * 2));
                lapiz.beginPath();	 
                lapiz.rect(30,5,Altura,Base);
                lapiz.stroke();
                break;    
            default:
                break;
        }  
});





   

 

</script>

<style>

.parametro{
   display: none;
 }
</style>

</html>